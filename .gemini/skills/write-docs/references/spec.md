# Documentation Standards (prd/spec/design/format/model)

이 문서는 프로젝트의 각 문서가 담아야 할 핵심 내용과 작성 원칙을 정의합니다. 모든 문서는 Markdown 형식을 따르며, 상호 링크를 통해 정보의 연결성을 유지해야 합니다.

## 1. 전역 문서 (Global Documents)

### 1.1. `README.md` (Gateway)
프로젝트의 첫 인상이자 진입점입니다. 전문적인 기술 톤을 유지하며, 구체적인 **실행 워크플로우**, **구조 시각화**, 그리고 **문서 인덱스**에 집중합니다.
- **프로젝트 소개**: 한 줄 요약 및 핵심 가치 (Bullet points).
- **시작 가이드**: 설치 방법 및 `agb build/sync`와 같은 단계별 실행 워크플로우.
- **프로젝트 구조**: 아스키 트리 등을 활용하여 시스템 구성을 시각적으로 표현.
- **문서 가이드**: 상세 문서에 대한 링크를 `prd` -> `format` -> `spec` -> `design` 순서로 배치하여 가독성 확보.

### 1.2. `specs/prd.md` (Requirements)
"우리는 무엇을 왜 만드는가?"에 대한 답을 제시합니다. 제품의 배경, 핵심 가치, 성공 지표 등 비즈니스 목표에 집중합니다.
- **배경 및 목적**: 기존의 문제점과 이를 해결하려는 동기.
- **핵심 가치**: 제품이 사용자에게 제공하는 고유한 가치.
- **주요 요구사항**: 시스템이 제공해야 할 핵심 기능 목록.
- **성공 지표**: 프로젝트의 성공 여부를 판단하는 기준.

### 1.3. `specs/format.md` (Structure & Config)
"리소스와 설정은 어떻게 생겼는가?"를 정의합니다. 사용자가 설정을 작성하거나 리소스를 개발할 때 참조하는 **물리적 규격**입니다.
- **소스/빌드 환경 구조**: 디렉터리 트리와 파일 배치 규칙.
- **설정 규격 (`agb.yaml`)**: 메인 설정 파일의 필드 명세 및 작성 예시.
- **리소스 작성 규격**: Markdown/YAML 메타데이터 작성법 및 의존성(`deps.yaml`) 정의법.

### 1.4. `specs/spec.md` (Technical Spec)
"시스템이 어떤 규칙으로 동작하는가?"를 정의합니다. 데이터 처리 로직, 변환 명세, 제약 사항 등 **기술적 약속**에 집중합니다.
- **처리 규칙**: 메타데이터 병합 우선순위, 의존성 검증 규칙 등.
- **타겟별 변환 사양**: 에이전트별 파일 포맷 및 본문 변환 매핑 정보.
- **동기화 규격**: `sync` 명령 수행 시의 업데이트 규칙 및 제약 사항.
- **보안 및 제약 사항**: 시스템 보호를 위한 금칙어, 충돌 방지 정책 등.

### 1.5. `specs/design.md` (Internal Design)
"내부는 어떻게 구현되어 있는가?"를 설명합니다. 시스템의 아키텍처와 상세 알고리즘을 다루는 기술적 지도입니다.
- **시스템 아키텍처**: 파이프라인 구조 및 데이터 흐름 시각화.
- **모듈 구조 및 의존성**: 각 모듈의 역할과 계층 구조(Mermaid 다이어그램 활용).
- **상세 알고리즘**: 병합 상세 로직, 패치 알고리즘 등 복잡한 내부 처리 방식 상술.

### 1.6. `specs/model.md` (Data Models)
"시스템의 뼈대인 데이터 구조는 무엇인가?"를 정의합니다. 실제 코드 스니펫을 포함하여 기술적 정확성을 보장합니다.
- **핵심 도메인 모델**: `Resource`, `BuildTarget` 등 핵심 타입 정의.
- **내부 상태 모델**: `Registry`, `ScannedResource` 등 로직 처리를 위한 구조체.

---

## 2. 모듈/컴포넌트 문서 (Module READMEs)

각 모듈(`src/` 하위)은 해당 영역의 **캡슐화된 정보**를 담는 `README.md`를 포함합니다.

- **개요**: 모듈의 존재 이유와 시스템에서의 역할.
- **주요 구성 요소**: 주요 클래스, 함수, 인터페이스 목록.
- **설계 의도**: 특정 패턴이나 기술을 선택한 배경.

---

## 3. 작성 및 유지보수 원칙

1.  **단일 진실 공급원 (SSOT)**: 동일 정보의 중복을 방지합니다. 구조는 `format`에, 규칙은 `spec`에, 로직은 `design`에 작성합니다.
2.  **계층적 참조**: 사용자 가이드(`format`)에서 기술 규격(`spec`)과 상세 알고리즘(`design`)으로 이어지는 링크를 적절히 배치합니다.
3.  **최신화 유지**: 기능 변경 시 관련 문서를 즉시 업데이트하며, 특히 `model.md`의 코드 스니펫은 실제 코드와 일치해야 합니다.
