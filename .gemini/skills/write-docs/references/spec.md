# Documentation Standards (PRD/TECHSPEC/DESIGN)

이 문서는 `agb` 프로젝트의 각 문서가 담아야 할 핵심 내용과 작성 원칙을 정의합니다. 모든 문서는 Markdown 형식을 따르며, 상호 링크를 통해 정보의 연결성을 유지해야 합니다.

## 1. 전역 문서 (Global Documents)

### 1.1. `README.md` (Gateway)
프로젝트의 첫 인상이자 진입점입니다. 상세한 설명보다는 **빠른 실행**과 **탐색 가이드**에 집중합니다.
- **프로젝트 소개**: 한 줄 요약 및 핵심 가치 (Bullet points).
- **시작하기 (Quick Start)**: 설치 방법, 빌드 실행 커맨드 (Code blocks).
- **문서 인덱스**: `specs/` 디렉토리 내 `PRD`, `TECHSPEC`, `DESIGN` 문서에 대한 링크와 역할 요약.
- **라이선스**: 프로젝트 라이선스 명시.

### 1.2. `specs/PRD.md` (Requirements)
"우리는 무엇을 왜 만드는가?"에 대한 답을 제시합니다. 비기술적 관계자도 이해할 수 있는 언어로 작성합니다.
- **배경 및 목적**: 기존의 문제점과 이를 해결하려는 동기.
- **사용자 타겟 및 페르소나**: 누가 이 도구를 사용하는가?
- **주요 요구사항 (Functional Requirements)**: 시스템이 제공해야 할 핵심 기능 목록.
- **비기능적 요구사항**: 보안, 성능, 안정성 등에 대한 기대치.
- **성공 지표**: 프로젝트가 성공했다고 판단할 수 있는 정량적/정성적 기준.

### 1.3. `specs/TECHSPEC.md` (Specifications)
"시스템이 외부와 어떻게 약속하는가?"를 정의합니다. 개발자가 기능을 구현하거나 사용자가 설정을 작성할 때 참조하는 **최종 규격**입니다.
- **입력 규격 (`agb.yaml`)**: 설정 파일의 모든 필드에 대한 Schema, 타입, 기본값, 제약 사항.
- **리소스 구조 규격**: `plugins/` 하위의 폴더 및 파일 명명 규칙, `SKILL.yaml` 등의 필수 요소.
- **데이터 처리 규칙**: 메타데이터 병합 알고리즘(Merge logic), 우선순위 규칙.
- **변환 규격 (Transformer Spec)**: 각 타겟별(Gemini, Claude 등) 파일 매핑 테이블 및 포맷 변환 규칙.
- **제약 사항 및 유효성 검사**: 보안 규칙, 충돌 방지 정책 등 시스템이 강제하는 규칙.

### 1.4. `specs/DESIGN.md` (Internal Design)
"내부는 어떻게 구현되어 있는가?"를 설명합니다. 시스템의 유지보수와 확장을 위한 기술적 지도를 제공합니다.
- **시스템 아키텍처**: 전체 파이프라인 흐름도 (Mermaid Graph).
- **모듈별 역할 및 책임 (Separation of Concerns)**: `core`, `loader`, `builder`, `transformer`, `utils` 모듈의 상세 역할.
- **데이터 모델 (Core Models)**: `Resource`, `BuildTarget` 등 핵심 구조체와 열거형의 설계 의도.
- **의존성 그래프**: 모듈 간의 계층 구조 및 참조 방향.
- **핵심 알고리즘 설계**: 복잡한 로직(예: 병합 로직의 내부 구현 방식)에 대한 기술적 상세.

---

## 2. 모듈별 문서 (Module READMEs)

각 모듈(`src/*/README.md`)은 해당 모듈의 **캡슐화된 정보**를 담습니다.

- **모듈 개요**: 이 모듈이 존재하는 이유와 전체 시스템에서의 위치.
- **주요 구성 요소 (Components)**: 모듈 내 주요 구조체, 트레이트, 함수 목록과 역할.
- **사용 예시 (Optional)**: 다른 모듈에서 이 모듈을 어떻게 호출하는지에 대한 코드 예시.
- **설계 의도**: 왜 이 모듈이 이 방식으로 설계되었는지에 대한 기술적 배경.

---

## 3. 작성 및 유지보수 원칙

1.  **단일 진실 공급원 (Single Source of Truth)**: 동일한 정보(예: `agb.yaml` 스키마)가 여러 문서에 중복되지 않도록 합니다. 규격은 `TECHSPEC`에만 적고, 다른 문서에서는 링크를 사용합니다.
2.  **구현과 규격의 분리**: 사용자가 알아야 할 '동작'은 `TECHSPEC`에, 개발자만 알면 되는 '구현 방식'은 `DESIGN`에 작성합니다.
3.  **최신화 유지**: 기능 변경 시 코드와 함께 문서를 즉시 업데이트합니다. 모든 PR은 관련 문서의 업데이트를 포함해야 합니다.
4.  **시각화 활용**: 아키텍처나 흐름도는 `Mermaid` 차트를 활용하여 가독성을 높입니다.
